### YamlMime:ManagedReference
items:
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  id: SqlPersonalizationProvider
  children:
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.#ctor
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.Initialize(System.String,System.Collections.Specialized.NameValueCollection)
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetUserState(System.String,System.DateTime)
  - System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])
  langs:
  - csharp
  name: SqlPersonalizationProvider
  nameWithType: SqlPersonalizationProvider
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  type: Class
  summary: "Реализует поставщик персонализации, который использует Microsoft SQL Server."
  remarks: "Этот класс определяет требуемую функциональность для поставщика персонализации с помощью Microsoft SQL Server. Поставщик персонализации загружает и хранит данные персонализации, от имени которого <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization>экземпляра.</xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> Этот класс реализует логику для чтения и записи на компьютерах под управлением SQL Server, а также реализует абстрактные методы, определенные в <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider>.</xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> Дополнительные сведения о персонализации поставщиках см. в разделе <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider>.</xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider>       Структура данных персонализации веб-частей с SQL Server зависит от существования две общие таблицы базы данных SQL, и поддерживающие их хранимые процедуры, которые являются общими для большинства реализаций компонентов на основе SQL. Эти таблицы и представления устанавливаются и удалить с помощью следующих скриптов: - installpagepersonalization.sql — устанавливает персонализации таблиц, представлений и связанных хранимых процедур.      -uninstallpagepersonalization.sql — удаляет персонализации таблиц, представлений и связанных хранимых процедур.       Важно помнить, что персонализация завершится ошибкой, если веб-приложение не выполняется в отношение доверия по умолчанию уровень <xref:System.Web.AspNetHostingPermissionLevel>или более поздней версии (можно задать пользовательский уровень доверия в файле Web.config с помощью `<trust level=&quot;&quot; />` элемент).</xref:System.Web.AspNetHostingPermissionLevel> <xref:System.Web.UI.WebControls.WebParts.PersonalizationAdministration>И проверять оба SqlPersonalizationProvider класса уровень доверия <xref:System.Web.AspNetHostingPermissionLevel>при инициализации.</xref:System.Web.AspNetHostingPermissionLevel> </xref:System.Web.UI.WebControls.WebParts.PersonalizationAdministration> При настройке приложения для запуска в отношения доверия с уровнем <xref:System.Web.AspNetHostingPermissionLevel>и использовать поставщика по умолчанию SqlPersonalizationProvider управление данные персонализации для приложения, приложение пытается получить доступ к данным персонализации впервые, он завершится ошибкой, так как рабочий процесс ASP.NET, работающих в <xref:System.Web.AspNetHostingPermissionLevel>доверия не имеет разрешения, необходимые для вызова различных классов в <xref:System.Data.SqlClient>пространства имен.</xref:System.Data.SqlClient> </xref:System.Web.AspNetHostingPermissionLevel> </xref:System.Web.AspNetHostingPermissionLevel>"
  syntax:
    content: 'public class SqlPersonalizationProvider : System.Web.UI.WebControls.WebParts.PersonalizationProvider'
  inheritance:
  - System.Object
  - System.Configuration.Provider.ProviderBase
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider
  implements: []
  inheritedMembers:
  - System.Configuration.Provider.ProviderBase.Description
  - System.Configuration.Provider.ProviderBase.Name
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)
  - System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.#ctor
  id: '#ctor'
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: SqlPersonalizationProvider()
  nameWithType: SqlPersonalizationProvider.SqlPersonalizationProvider()
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SqlPersonalizationProvider()
  type: Constructor
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Инициализирует новый экземпляр <xref href=&quot;System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider&quot;> </xref> класса."
  remarks: "Конструктор SqlPersonalizationProvider вызывается ASP.NET, чтобы создать экземпляр <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider>класса, указанное в конфигурации для приложения.</xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Этот конструктор не предназначен для использования в коде."
  syntax:
    content: public SqlPersonalizationProvider ();
    parameters: []
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.#ctor*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName
  id: ApplicationName
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: ApplicationName
  nameWithType: SqlPersonalizationProvider.ApplicationName
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName
  type: Property
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Возвращает или задает имя приложения, чтобы хранить и извлекать данные персонализации."
  remarks: "Свойство ApplicationName используется <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider>класса для группирования сведений пользователя.</xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Уточнение информации пользователя с именем приложения, можно хранить информацию для нескольких приложений в одной базе данных без конфликтов между идентичными именами пользователей. Кроме того несколько приложений ASP.NET можно использовать одну и ту же базу данных пользователя, указав то же значение в свойство ApplicationName. Свойство ApplicationName могут устанавливаться программными средствами, или он может быть задано декларативно в файле конфигурации для веб-приложения с помощью `applicationName` атрибута в `<providers>` раздела.       Если значение не указано для `applicationName` атрибут в файле конфигурации для веб-приложения, то <xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A>используется значение свойства для первого запроса приложения.</xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A>      Настроек [!CAUTION] настроек, так как экземпляр поставщика персонализации один по умолчанию используется для всех запросов, обслуживаемых <xref:System.Web.HttpApplication>объекта может быть несколько запросов, параллельном выполнении и попытка задать значение свойства ApplicationName.</xref:System.Web.HttpApplication> Свойство ApplicationName не является потокобезопасным для нескольких операций записи и изменение значения свойства ApplicationName может привести к непредвиденному поведению для нескольких пользователей приложения. Рекомендуется избегать кода, чтобы пользователи могли установить свойство ApplicationName, когда не требуется. Пример приложения, где может потребоваться задать свойство ApplicationName — административные приложения, в котором данные персонализации для нескольких приложений. Такое приложение должно быть Однопользовательское приложение и не веб-приложения."
  syntax:
    content: public override string ApplicationName { get; set; }
    return:
      type: System.String
      description: "Имя приложения, чтобы хранить и извлекать данные персонализации. Значение по умолчанию — <> </> *настроек значение свойства для текущего <> </> *настроек."
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName*
  exceptions:
  - type: System.Configuration.Provider.ProviderException
    commentId: T:System.Configuration.Provider.ProviderException
    description: "Свойство установлено в строку длиной не более 256 символов."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)
  id: FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  nameWithType: SqlPersonalizationProvider.FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Возвращает коллекцию, содержащую ноль или более <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateInfo&quot;> </xref>-производных объектов, на основе указанной области и параметры."
  remarks: "Набор возвращаемых элементов ограничен `pageSize` и `pageIndex` параметров, где `pageSize` определяет количество возвращаемых записей и `pageIndex` определяет, какие записи для возврата. Например `pageIndex` 0 и `pageSize` 25 возвращает первые 25 вхождений, пока `pageIndex` 1 и `pageSize` 25 вернет вхождений 26 до 50. Если вы хотите получить все доступные записи, задайте `pageIndex` 0, и `pageSize` <xref:System.Int32.MaxValue>.</xref:System.Int32.MaxValue>       <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>-Производных объектов возвращаются в алфавитном порядке, отсортированных по <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A>и <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A>, как в порядке возрастания.</xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>       Этот метод передает подстановочные знаки запроса в базовом хранилище данных. Поддержка подстановочных знаков определяется в настоящее время как каждый поставщик обрабатывает такие символы, как звездочки (*), символ процента (%) или символ подчеркивания (_).       Как правило, для SQL-совместимый хранилищ данных, можно выполнять поиск с подстановочными символами на частичный путь с подстановочный знак в начале, интерфейса или середины текст для поиска строки в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>свойство.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> Например, чтобы найти все пути, начинающиеся с «~/approot» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>свойство будет иметь значение «~/approot%».</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>       Аналогичным образом, поиск с подстановочными символами на имя частичной пользователя может иметь подстановочный знак отображаться в любом месте текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>свойство.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> Например, чтобы найти все имена пользователей, которые начинаются с «John» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>параметр выглядит следующим образом «John %».</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>       Действуют следующие ограничения запроса: — если только `scope` предоставляется, и `query` — `null` или все свойства в `query` возвращать либо `null` или значения по умолчанию, то все записи, соответствующие указанной строке `scope` возвращаются параметра.      -Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>свойство не `null`, возвращаемые записи также являются отфильтрованный на основе путей, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>значение свойства.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>      -Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>свойство не `null`, возвращаемые записи также являются имена отфильтрованный на основе пользователей, соответствующих <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>значение свойства.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>      -Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>свойства не равно <xref:System.DateTime.MaxValue>, а затем возвращаемые записи фильтруются также для получения только тех записей, связанных с неактивными пользователями.</xref:System.DateTime.MaxValue> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> Сравнение включает записи где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>свойства меньше или равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>свойство.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> </xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>       Обратите внимание, что этот метод не проверяет сочетания параметров запроса. Например код может запросить набор записей состояния персонализации, сопоставленных с определенным именем пользователя в общей области. Поскольку имена пользователей не связаны с общими данными, возвращаемая коллекция будет пустой.       Включить сочетания параметров могут возвращать непустые коллекции:- <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>область в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>      - <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>область в сочетании со значениями для нескольких или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>Свойства.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>"
  syntax:
    content: public override System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int pageIndex, int pageSize, out int totalRecords);
    parameters:
    - id: scope
      type: System.Web.UI.WebControls.WebParts.PersonalizationScope
      description: "Объект <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> , указывающее, должны запрашиваться сведения о персонализации. Это значение не может быть <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;> </xref>."
    - id: query
      type: System.Web.UI.WebControls.WebParts.PersonalizationStateQuery
      description: "Объект <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateQuery&quot;> </xref> содержащий запрос. Это значение может быть <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;> </xref>."
    - id: pageIndex
      type: System.Int32
      description: "Расположение, где начинается выполнение запроса."
    - id: pageSize
      type: System.Int32
      description: "Число возвращаемых записей."
    - id: totalRecords
      type: System.Int32
      description: "Общее число доступных записей."
    return:
      type: System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection
      description: "Объект <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection&quot;> </xref> содержащая ноль или более <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateInfo&quot;> </xref>-производных объектов."
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.FindState*
  exceptions:
  - type: System.ArgumentException
    commentId: T:System.ArgumentException
    description: "<code>pageIndex</code> is less than zero.  \n  \n \\- or -  \n  \n <code>pageSize</code> is less than or equal to zero.  \n  \n \\- or -  \n  \n The combination of <code>pageIndex</code> and <code>pageSize</code> results in a value greater than <xref:System.Int32.MaxValue>.  \n  \n \\- or -  \n  \n <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch*> is non-<xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref> and is an empty string (\"\") after trimming.  \n  \n \\- or -  \n  \n The length of <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch*> is greater than 256 characters when the value is non-<xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>.  \n  \n \\- or -  \n  \n <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch*> is non-<xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref> and is an empty string after trimming.  \n  \n \\- or -  \n  \n The length of <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch*> is greater than 256 characters when the value is non-<xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>."
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: "<code>  scope </code> Не является допустимым значением из <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> перечисления."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)
  id: GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  nameWithType: SqlPersonalizationProvider.GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Возвращает число строк в основном хранилище данных для указанного <code> scope </code> параметра."
  remarks: "Этот метод передает подстановочные знаки запроса в базовом хранилище данных. Поддержка подстановочных знаков определяется в настоящее время как каждый поставщик обрабатывает такие символы, как звездочки (*), символ процента (%) или символ подчеркивания (_).       Как правило, для SQL-совместимый хранилищ данных, можно выполнять поиск с подстановочными символами на частичный путь с подстановочный знак в начале, интерфейса или середины текст для поиска строки в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>свойство.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> Например, чтобы найти все пути, начинающиеся с «~/approot» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>свойство будет иметь значение «~/approot%».</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>       Аналогичным образом, поиск с подстановочными символами на имя частичной пользователя может иметь подстановочный знак отображаться в любом месте текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>свойство.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> Например, чтобы найти все имена пользователей, которые начинаются с «John» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>параметр выглядит следующим образом «John %».</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>       Действуют следующие ограничения запроса: — если только `scope` предоставляется, и `query` — `null` или все свойства в `query` возвращать либо `null` или значения по умолчанию, то все записи, соответствующие указанной строке `scope` возвращаются параметра.      -Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>свойство не `null`, возвращаемые записи также являются отфильтрованный на основе путей, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>значение свойства.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>      -Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>не `null`, возвращаемые записи также являются имена отфильтрованный на основе пользователей, соответствующих <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>значение свойства.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>      -Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>свойства не равно <xref:System.DateTime.MaxValue>, а затем возвращаемые записи фильтруются также для получения только тех записей, связанных с неактивными пользователями.</xref:System.DateTime.MaxValue> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> Сравнение включает записи где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>свойства меньше или равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>свойство.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> </xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>       Обратите внимание, что этот метод не проверяет сочетания параметров запроса. Например код может запросить число записей состояния, связанных с неактивными пользователями в общей области. Так как отсутствует понятие неактивные настроек, возвращаемый счетчик будет ноль.       Включить сочетания параметров могут возвращать непустые коллекции:- <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>область в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>      - <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>область в сочетании со значениями для нескольких или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>Свойства.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> </xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>"
  syntax:
    content: public override int GetCountOfState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query);
    parameters:
    - id: scope
      type: System.Web.UI.WebControls.WebParts.PersonalizationScope
      description: "Объект <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> , указывающее, должны запрашиваться сведения о персонализации. Это значение не может быть <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;> </xref>."
    - id: query
      type: System.Web.UI.WebControls.WebParts.PersonalizationStateQuery
      description: "Объект <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationStateQuery&quot;> </xref> содержащий запрос. Это значение может быть <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;> </xref>."
    return:
      type: System.Int32
      description: "Количество строк в базовом хранилище данных, которые существуют для указанного <code> scope </code> параметра."
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.GetCountOfState*
  exceptions:
  - type: System.ArgumentException
    commentId: T:System.ArgumentException
    description: "<xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch*> is non-<xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref> and is an empty string (\"\") after trimming.  \n  \n \\- or -  \n  \n The length of <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch*> is greater than 256 characters when the value is non-<xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>.  \n  \n \\- or -  \n  \n <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch*> is non-<xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref> and is an empty string after trimming.  \n  \n \\- or -  \n  \n The length of <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch*> is greater than 256 characters when the value is non-<xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>."
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: "<code>  scope </code> Не является допустимым значением из <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> перечисления."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.Initialize(System.String,System.Collections.Specialized.NameValueCollection)
  id: Initialize(System.String,System.Collections.Specialized.NameValueCollection)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: Initialize(String,NameValueCollection)
  nameWithType: SqlPersonalizationProvider.Initialize(String,NameValueCollection)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.Initialize(String,NameValueCollection)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Реализует процедуры инициализации, необходимые для поставщика персонализации, Microsoft SQL Server. Этот метод не предназначен для использования непосредственно из программного кода."
  remarks: "Этот метод обеспечивает процедуры инициализации для выполнения персонализации в базе данных SQL и не предназначен для использования непосредственно из программного кода."
  syntax:
    content: public override void Initialize (string name, System.Collections.Specialized.NameValueCollection configSettings);
    parameters:
    - id: name
      type: System.String
      description: "Имя приложения, как оно отображается в файле конфигурации."
    - id: configSettings
      type: System.Collections.Specialized.NameValueCollection
      description: "Параметры конфигурации для приложения."
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.Initialize*
  exceptions:
  - type: System.Configuration.Provider.ProviderException
    commentId: T:System.Configuration.Provider.ProviderException
    description: "No connection string is configured for the provider.  \n  \n \\- or -  \n  \n The connection string for the provider cannot be found.  \n  \n \\- or -  \n  \n There are additional attributes on the provider's <xref uid=\"langword_csharp_&lt;add&gt;\" name=\"&lt;add&gt;\" href=\"\"></xref> element beyond those described in the configuration settings.  \n  \n \\- or -  \n  \n The length of the application name is greater than 256 characters.  \n  \n \\- or -  \n  \n The application domain hosting the application is running at a trust level below <xref href=\"System.Web.AspNetHostingPermissionLevel\"></xref> trust."
  - type: System.ArgumentNullException
    commentId: T:System.ArgumentNullException
    description: "<code>configSettings</code>is <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;></xref>."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)
  id: LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  nameWithType: SqlPersonalizationProvider.LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Загружает данные персонализации из базового хранилища данных на основе указанных параметров."
  remarks: "Этот метод использует `webPartManager`, `path`, и `username` параметров, получения ключей. Возвращенные данные содержат: - <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>данные, возвращаемые в `sharedDataBlob` параметр.</xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>      -В зависимости от значения ключей <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>данные возвращаются в виде `userDataBlob` параметр.</xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> Значение, отличное от`null` значение для `userName` параметр указывает, что <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>извлекаются данные.</xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>       <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider>Автоматически обновляет объект <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>столбца в `aspnet_Users` таблице данные персонализации для различных пользователей каждого время загружаются из базы данных в контексте запроса страницы.</xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> </xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Такое поведение позволяет других функций ASP.NET для использования <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>свойство при управлении устаревшие данные записываются также как определение Недавние действия пользователя на сайте.</xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>"
  syntax:
    content: protected override void LoadPersonalizationBlobs (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, ref byte[] sharedDataBlob, ref byte[] userDataBlob);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "<xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;> </xref> Управление данными персонализации."
    - id: path
      type: System.String
      description: "Путь к данным персонализации в <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> область для использования в качестве ключа для их получения."
    - id: userName
      type: System.String
      description: "Имя пользователя для данных персонализации в <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> область для использования в качестве ключа для их получения."
    - id: sharedDataBlob
      type: System.Byte[]
      description: "Возвращаемые данные для <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> область."
    - id: userDataBlob
      type: System.Byte[]
      description: "Возвращаемые данные для <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> область."
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.LoadPersonalizationBlobs*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)
  id: ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: ResetPersonalizationBlob(WebPartManager,String,String)
  nameWithType: SqlPersonalizationProvider.ResetPersonalizationBlob(WebPartManager,String,String)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetPersonalizationBlob(WebPartManager,String,String)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Удаляет данные персонализации из базового хранилища данных."
  remarks: "<xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization>Этот метод используется для удаления из базы данных персонализации, при создании веб-узла пользователем для сброса данных веб-частей на странице.</xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> Если `username` не является`null`, данные с <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>области данных удалены, в противном случае, данные с <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>область удаляется.</xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> </xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>       <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider>Автоматически обновляет объект <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>столбца в `aspnet_Users` таблице данные персонализации для различных пользователей каждого времени удаляются из базы данных в контексте запроса страницы.</xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> </xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Такое поведение позволяет других функций ASP.NET для использования <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>значение при управлении устаревшие данные записывает также как определение Недавние действия пользователя на сайте.</xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>"
  syntax:
    content: protected override void ResetPersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "<xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;> </xref> Управление данными персонализации."
    - id: path
      type: System.String
      description: "Путь к данным персонализации в <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> область для использования в качестве ключа для их получения."
    - id: userName
      type: System.String
      description: "Имя пользователя для данных персонализации в <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> область для использования в качестве ключа для их получения."
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetPersonalizationBlob*
  exceptions: []
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])
  id: ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: ResetState(PersonalizationScope,String[],String[])
  nameWithType: SqlPersonalizationProvider.ResetState(PersonalizationScope,String[],String[])
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetState(PersonalizationScope,String[],String[])
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Удаляет сведения о состоянии персонализации из базового хранилища данных на основе указанных параметров."
  remarks: "Этот метод поддерживает подстановочные знаки.       Допускаются только следующие сочетания параметров: - `scope` имеет параметр, а все остальные параметры имеют значение `null`. Это сочетание удаляет все данные персонализации веб-частей, связанные с области персонализации, заданной параметром `scope`.      - `scope` Параметр имеет значение и `paths` параметр содержит хотя бы одно значение. Это сочетание удаляет все данные персонализации веб-частей для указанного пути или пути, которые находятся в области персонализации, заданной параметром `scope`.      - `scope` Параметр имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>, `paths` параметр установлен и содержит только один путь и `usernames` параметр содержит хотя бы одно значение.</xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> Это сочетание удаляет все данные веб-частей для заданного пути, связанный с пользователем или пользователями, которые содержатся в персонализации `usernames`.      - `scope` Параметр имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>, `paths` параметр `null`и `usernames` параметр содержит хотя бы одно значение.</xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> Это сочетание удаляет все данные веб-частей персонализации пользователя для всех путей, связанных с пользователями, содержащихся в `usernames`.       Другие сочетания значений параметров является недопустимым и вызывает исключение <xref:System.ArgumentException>исключение.</xref:System.ArgumentException> Например, следующие две комбинации не допускаются: - `usernames` параметра не может быть обеспечено при `scope` параметра равным <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>.</xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>      - `paths` Параметр не может содержать более одной операции при `usernames` не `null`.       `paths` И `usernames` содержатся в соответствующих массивах параметров должны соответствовать следующим правилам проверки. Если все правила проверки для любого члена массивы параметров, <xref:System.ArgumentException>исключения.</xref:System.ArgumentException> Правила проверки включают в себя:- `null` значения не допускаются.      -Пустая строка (&quot;») после усечения не допускается.      -Имена пользователей в `usernames` параметр может содержать запятые.      — Длина любого пути в `paths` параметра не может превышать 256 символов.      — Длина любого имени пользователя в `usernames` параметра не может превышать 256 символов."
  syntax:
    content: public override int ResetState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames);
    parameters:
    - id: scope
      type: System.Web.UI.WebControls.WebParts.PersonalizationScope
      description: "Объект <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> , указывающее, должны запрашиваться сведения о персонализации. Это значение не может быть <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;> </xref>."
    - id: paths
      type: System.String[]
      description: "Пути к данным персонализации в <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> область для удаления."
    - id: usernames
      type: System.String[]
      description: "Имена пользователей к данным персонализации в <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> область для удаления."
    return:
      type: System.Int32
      description: "Число подлежащих удалению строк."
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetState*
  exceptions:
  - type: System.ArgumentException
    commentId: T:System.ArgumentException
    description: "Either the <code>paths</code> or the <code>usernames</code> parameter is an empty array.  \n  \n \\- or -  \n  \n The <code>paths</code> and <code>usernames</code> parameters contained within the respective arrays do not meet the validation rules."
  - type: System.ArgumentOutOfRangeException
    commentId: T:System.ArgumentOutOfRangeException
    description: "<code>  scope </code> Не является членом <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> перечисления."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetUserState(System.String,System.DateTime)
  id: ResetUserState(System.String,System.DateTime)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: ResetUserState(String,DateTime)
  nameWithType: SqlPersonalizationProvider.ResetUserState(String,DateTime)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetUserState(String,DateTime)
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Удаляет данные персонализации пользователя из базового хранилища данных на основе указанных параметров."
  remarks: "Параметры этого метода имеют следующие ограничения: - `path` параметр не может содержать подстановочные знаки.      -Если `path` параметра не равно`null`, затем связываются только записи персонализации пользователя с `path` будут удалены.      -Только записи пользовательской персонализации, связанные с пользователями, которые считаются неактивными с даты, указанной в `userInactiveSinceDate` параметра будут удалены. Можно удалить записи точного сравнения где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>свойства меньше или равно `userInactiveSinceDate` параметр.</xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>      -Если указаны оба параметра, удаляются записи, удовлетворяющие обоим ограничениям.      - `path` Параметр может быть `null`.      - `path` Параметр не может быть пустой строкой после усечения.      - <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>Свойство не может быть `null`.</xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A>"
  syntax:
    content: public override int ResetUserState (string path, DateTime userInactiveSinceDate);
    parameters:
    - id: path
      type: System.String
      description: "Путь данные персонализации для удаления. Это значение может быть <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;> </xref> , но не может быть пустой строкой (»»)."
    - id: userInactiveSinceDate
      type: System.DateTime
      description: "Дата, указывающее, последнее действие."
    return:
      type: System.Int32
      description: "Количество строк, удаленных из базового хранилища данных."
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetUserState*
  exceptions:
  - type: System.ArgumentException
    commentId: T:System.ArgumentException
    description: "<code>path</code> is an empty string.  \n  \n \\- or -  \n  \n The path is greater than 256 characters in length."
  platform:
  - net462
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])
  id: SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  langs:
  - csharp
  name: SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  nameWithType: SqlPersonalizationProvider.SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  type: Method
  assemblies:
  - System.Web
  namespace: System.Web.UI.WebControls.WebParts
  summary: "Сохраняет необработанные данные персонализации в основную базу данных Microsoft SQL Server."
  remarks: "Если значение, отличное от`null` предоставляется имя пользователя, а затем `dataBlob` параметр содержит данные персонализации для <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>области; в противном случае `dataBlob` должна содержать данные для <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>области.</xref:System.Web.UI.WebControls.WebParts.PersonalizationScope> </xref:System.Web.UI.WebControls.WebParts.PersonalizationScope>       <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider>Автоматически обновляет объект <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>столбца в `aspnet_Users` таблицу каждый раз пользовательские данные персонализации сохраняются в базу данных в контексте запроса страницы.</xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> </xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Такое поведение позволяет других функций ASP.NET для использования <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>свойство при управлении устаревшие данные записываются также как определение Недавние действия пользователя на сайте.</xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A>"
  syntax:
    content: protected override void SavePersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, byte[] dataBlob);
    parameters:
    - id: webPartManager
      type: System.Web.UI.WebControls.WebParts.WebPartManager
      description: "<xref href=&quot;System.Web.UI.WebControls.WebParts.WebPartManager&quot;> </xref> Управление данными персонализации."
    - id: path
      type: System.String
      description: "Объект <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> , указывающее, должны быть сохранены сведения о персонализации. Это значение не может быть <xref uid=&quot;langword_csharp_null&quot; name=&quot;null&quot; href=&quot;&quot;> </xref>."
    - id: userName
      type: System.String
      description: "Имя пользователя для данных персонализации в <xref href=&quot;System.Web.UI.WebControls.WebParts.PersonalizationScope&quot;> </xref> область для использования в качестве ключа."
    - id: dataBlob
      type: System.Byte[]
      description: "Массив байтов данных для сохранения."
  overload: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SavePersonalizationBlob*
  exceptions: []
  platform:
  - net462
references:
- uid: System.Web.UI.WebControls.WebParts.PersonalizationProvider
  isExternal: false
  name: System.Web.UI.WebControls.WebParts.PersonalizationProvider
- uid: System.Configuration.Provider.ProviderException
  parent: System.Configuration.Provider
  isExternal: false
  name: ProviderException
  nameWithType: ProviderException
  fullName: System.Configuration.Provider.ProviderException
- uid: System.ArgumentException
  isExternal: true
  name: System.ArgumentException
- uid: System.ArgumentOutOfRangeException
  isExternal: true
  name: System.ArgumentOutOfRangeException
- uid: System.ArgumentNullException
  isExternal: true
  name: System.ArgumentNullException
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.#ctor
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: SqlPersonalizationProvider()
  nameWithType: SqlPersonalizationProvider.SqlPersonalizationProvider()
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SqlPersonalizationProvider()
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: ApplicationName
  nameWithType: SqlPersonalizationProvider.ApplicationName
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName
- uid: System.String
  parent: System
  isExternal: true
  name: String
  nameWithType: String
  fullName: System.String
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  nameWithType: SqlPersonalizationProvider.FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.FindState(PersonalizationScope,PersonalizationStateQuery,Int32,Int32,Int32)
- uid: System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection
  parent: System.Web.UI.WebControls.WebParts
  isExternal: false
  name: PersonalizationStateInfoCollection
  nameWithType: PersonalizationStateInfoCollection
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection
- uid: System.Web.UI.WebControls.WebParts.PersonalizationScope
  parent: System.Web.UI.WebControls.WebParts
  isExternal: false
  name: PersonalizationScope
  nameWithType: PersonalizationScope
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationScope
- uid: System.Web.UI.WebControls.WebParts.PersonalizationStateQuery
  parent: System.Web.UI.WebControls.WebParts
  isExternal: false
  name: PersonalizationStateQuery
  nameWithType: PersonalizationStateQuery
  fullName: System.Web.UI.WebControls.WebParts.PersonalizationStateQuery
- uid: System.Int32
  parent: System
  isExternal: true
  name: Int32
  nameWithType: Int32
  fullName: System.Int32
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  nameWithType: SqlPersonalizationProvider.GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.GetCountOfState(PersonalizationScope,PersonalizationStateQuery)
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.Initialize(System.String,System.Collections.Specialized.NameValueCollection)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: Initialize(String,NameValueCollection)
  nameWithType: SqlPersonalizationProvider.Initialize(String,NameValueCollection)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.Initialize(String,NameValueCollection)
- uid: System.Collections.Specialized.NameValueCollection
  parent: System.Collections.Specialized
  isExternal: false
  name: NameValueCollection
  nameWithType: NameValueCollection
  fullName: System.Collections.Specialized.NameValueCollection
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  nameWithType: SqlPersonalizationProvider.LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.LoadPersonalizationBlobs(WebPartManager,String,String,Byte[],Byte[])
- uid: System.Web.UI.WebControls.WebParts.WebPartManager
  parent: System.Web.UI.WebControls.WebParts
  isExternal: false
  name: WebPartManager
  nameWithType: WebPartManager
  fullName: System.Web.UI.WebControls.WebParts.WebPartManager
- uid: System.Byte[]
  parent: System
  isExternal: true
  name: Byte
  nameWithType: Byte
  fullName: System.Byte[]
  spec.csharp:
  - uid: System.Byte
    name: Byte
    nameWithType: Byte
    fullName: Byte[]
  - name: '[]'
    nameWithType: '[]'
    fullName: '[]'
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: ResetPersonalizationBlob(WebPartManager,String,String)
  nameWithType: SqlPersonalizationProvider.ResetPersonalizationBlob(WebPartManager,String,String)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetPersonalizationBlob(WebPartManager,String,String)
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: ResetState(PersonalizationScope,String[],String[])
  nameWithType: SqlPersonalizationProvider.ResetState(PersonalizationScope,String[],String[])
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetState(PersonalizationScope,String[],String[])
- uid: System.String[]
  parent: System
  isExternal: true
  name: String
  nameWithType: String
  fullName: System.String[]
  spec.csharp:
  - uid: System.String
    name: String
    nameWithType: String
    fullName: String[]
  - name: '[]'
    nameWithType: '[]'
    fullName: '[]'
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetUserState(System.String,System.DateTime)
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: ResetUserState(String,DateTime)
  nameWithType: SqlPersonalizationProvider.ResetUserState(String,DateTime)
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetUserState(String,DateTime)
- uid: System.DateTime
  parent: System
  isExternal: true
  name: DateTime
  nameWithType: DateTime
  fullName: System.DateTime
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  nameWithType: SqlPersonalizationProvider.SavePersonalizationBlob(WebPartManager,String,String,Byte[])
  fullName: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SavePersonalizationBlob(WebPartManager,String,String,Byte[])
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.#ctor*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: SqlPersonalizationProvider
  nameWithType: SqlPersonalizationProvider.SqlPersonalizationProvider
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: ApplicationName
  nameWithType: SqlPersonalizationProvider.ApplicationName
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.FindState*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: FindState
  nameWithType: SqlPersonalizationProvider.FindState
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.GetCountOfState*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: GetCountOfState
  nameWithType: SqlPersonalizationProvider.GetCountOfState
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.Initialize*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: Initialize
  nameWithType: SqlPersonalizationProvider.Initialize
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.LoadPersonalizationBlobs*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: LoadPersonalizationBlobs
  nameWithType: SqlPersonalizationProvider.LoadPersonalizationBlobs
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetPersonalizationBlob*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: ResetPersonalizationBlob
  nameWithType: SqlPersonalizationProvider.ResetPersonalizationBlob
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetState*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: ResetState
  nameWithType: SqlPersonalizationProvider.ResetState
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetUserState*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: ResetUserState
  nameWithType: SqlPersonalizationProvider.ResetUserState
- uid: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SavePersonalizationBlob*
  parent: System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider
  isExternal: false
  name: SavePersonalizationBlob
  nameWithType: SqlPersonalizationProvider.SavePersonalizationBlob
